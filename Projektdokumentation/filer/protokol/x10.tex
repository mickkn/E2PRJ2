Kommunikationen mellem CSS Hovedenhed og X10 Udtagene sker over strømnettet via et X10 interface.

Den officielle X10 protokol bruges som udgangspunkt for denne arbitrerer X10 protokol.
Afvigelserne fra den officielle X10 protokol ligger i hvilke gyldige kommandoer der er til rådighed. Kun kommandoerne i tabel \ref{tabel:X10Kommandoer} er gyldige. Se også tabel \ref{table:X10DataFormat} for hvordan en data frame er bygget op. Bemærk at   enheds adressen og kommando sendes i én pakke.

\begin{table}[h]
	\caption{Data formatering for X10 kommunikation}
	\centering
	\begin{tabular}{|c|c|c|c|}
		\hline 
<<<<<<< HEAD
		STX & <Kommando> & <Adresse> & ETX \\
=======
		\textbf{ETX} & '\textbackslash r' & 0x0D \\ 
>>>>>>> parent of fe63449... Git hub fucker. committer ALT i repos.
		\hline 
	\end{tabular} 
	\label{table:X10DataFormat}
\end{table}

I det følgende differentieres der mellem almindelige binære mønstre og X10 formaterede bit mønstre.
Den officielle X10 protokol beskriver at det binære 0 sendes som 01 og binært 1 sendes som 10. Se \textbf{INDSÆT REFFERENCE TIL X10 PROTOKOLLEN} for yderligere detaljer.

I tabel \ref{table:X10StartStopBytes} beskrives de fælles informationer som gælder mellem CSS hovedenheden.

\begin{table}[h]
	\caption{Start og stop bytes for X10 kommunikation}
	\centering
	\begin{tabular}{|c|c|}
		\hline 
		& \textbf{X10 kode} \\ 
		\hline 
		\textbf{STX} & 1110\\ 
		\hline 
		\textbf{ETX} & 000000 \\ 
		\hline 
	\end{tabular} 
	\label{table:X10StartStopBytes}
\end{table}

\textbf{Blokken <Kommando>}

Alle kommandoer sendes to gange med tre 50 Hz perioder i mellem hver. Dette håndteres med ETX koden.
I tilfælde af at kommandoen ikke genkendes er der intet svar.

\begin{table}[h]
\caption{Kommandoer for X10 kommunikation}
\centering
\begin{tabular}{|c|c|c|}
\hline 
\textbf{Binær} & \textbf{X10 kode} & \textbf{Funktion} \\ 
\hline 
00101 & 0101100110 & Aktiver enhed \\ 
\hline 
00111 & 0101101010 & Deaktiver enhed \\ 
\hline
\end{tabular}
\label{tabel:X10Kommandoer}
\end{table} 

\textbf{Blokken <Adresse>}

Adresserne modtages fra PCen binært. Denne kode omsættes til X10 formatet og afsendes uden videre formatering.
I tabel \ref{tabel:X10Adresser} vises nogle eksempler på adresser.

\begin{table}[h]
\caption{Adresser formateret i X10 format}
\centering
\begin{tabular}{|c|c|}
\hline 
\textbf{Binær} & \textbf{X10 kode} \\ 
\hline 
0001 & 01010110 \\ 
\hline 
0101 & 01100110 \\ 
\hline
0111 & 01101010 \\
\hline
\end{tabular}
\label{tabel:X10Adresser}
\end{table} 

<<<<<<< HEAD
\textbf{Eksempler}

I tabel \ref{tabel:X10Eksempler} er vist to eksempler som aktiverer og deaktiverer et X10 udtag. Mellemrummende i X10 koden er indsat for at kunne se blokkende og vil ikke eksisterer i praksis.

\begin{table}[h]
\caption{Adresser formateret i X10 format}
\centering
\begin{tabular}{|c|c|c|}
\hline 
\textbf{Kommando} & \textbf{X10 kode} \\ 
\hline 
Tænd X10 udtag på adresse 0101 & 1110 0101100110 01100110 000000 \\ 
\hline 
Sluk X10 udtag på adresse 0011 & 1110 0101101010 01011010 000000 \\ 
\hline
\end{tabular}
\label{tabel:X10Eksempler}
\end{table} 
=======
\textbf{"S0101A\textbackslash r"}
Kommandoen aktiverer X10 udtaget med adresse ''0101''.

\textbf{"s0101d\textbackslash r"}
Kommandoen deaktiverer X10 udtaget med adresse ''0101''.

Bemærk at \textbackslash r er ASCII karakteren for carriage return.

>>>>>>> parent of fe63449... Git hub fucker. committer ALT i repos.
